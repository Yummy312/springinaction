<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
 http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

    <!--Создаем бины для коллекции-->
    <bean id="electricGuitar" class="com.springinaction.springidol.ElectricGuitar"/>
    <bean id="cymbal" class="com.springinaction.springidol.Cymbal"/>
    <bean id="harmonica" class="com.springinaction.springidol.Harmonica"/>

<!--    В новой версии класса OneManBand свойство instruments имеет тип-->
<!--    отображения java.util.Map , каждый член которого имеет ключ типа-->
<!--    String и значение типа Instrument. Так как члены отображения представлены -->
<!--    парами ключ/значение, простых элементов <list> или <set> будет недостаточно для связывания свойства.-->
<!--    Вместо этого для конфигурирования свойства instruments в следующем объявлении компонента oneManBand используется -->
<!--    элемент <map>:-->

    <bean id="oneManBand" class="com.springinaction.springidol.OneManBand">
        <property name="instruments">
            <map>
<!--                В нашем примере атрибут key используется для определения-->
<!--                строкового ключа, а атрибут value-ref – для определения ссылочного значения, однако-->
<!--                в действительности каждый элемент <entry> имеет по два атрибута для определения ключа и значения-->
<!--                элемента отображения. Эти атрибуты перечислены в табл. 2.4-->

<!--                табл. 2.4 -->
<!--                key -  Определяет ключ элемента отображения как строку-->
<!--                key-ref -  Определяет ключ элемента отображения как ссылку на компонент-->
<!--                в контексте Spring-->
<!--                value -  Определяет значение элемента отображения как строку-->
<!--                value-ref -  Определяет значение элемента отображения как ссылку-->
<!--                на компонент в контексте Spring-->

                <entry key="ELECTRICGUITAR" value-ref="electricGuitar"/>
                <entry key="CYMBAL" value-ref="cymbal"/>
                <entry key="HARMONICA" value-ref="harmonica"/>
            </map>
        </property>
    </bean>

</beans>